<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Detectify — Deepfake Detector</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg-grad-start: #0f274c;
      --bg-grad-end: #1b3a74;
      --card-bg: rgba(255,255,255,0.04);
      --card-glow: rgba(19,37,84,0.6);
      --accent-1: #5eead4;
      --accent-2: #7c3aed;
      --muted: rgba(255,255,255,0.75);
    }

    html,body{
      height:100%;
      margin:0;
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color: white;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* full-screen header with background image and gradient overlay */
    .page-bg{
      min-height:100vh;
      background-image:
        linear-gradient(180deg, rgba(6,18,49,0.75) 0%, rgba(8,18,44,0.88) 60%),
        url("/mnt/data/WhatsApp Image 2025-11-20 at 16.57.49.jpeg");
      background-size: cover;
      background-position: center;
      display:flex;
      flex-direction:column;
    }

    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:28px 48px;
      border-bottom: 1px solid rgba(255,255,255,0.03);
      backdrop-filter: blur(4px);
    }

    .brand {
      display:flex;
      gap:16px;
      align-items:center;
    }
    .logo {
      width:44px;
      height:44px;
      border-radius:8px;
      background: linear-gradient(135deg,var(--accent-1),var(--accent-2));
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:800;
      color:#04202a;
      box-shadow: 0 6px 18px rgba(12,18,32,0.35);
    }
    .brand h1{
      margin:0;
      font-size:20px;
      letter-spacing:0.2px;
      font-weight:800;
    }
    .brand p{
      margin:0 0 0 6px;
      font-size:12px;
      color:rgba(255,255,255,0.6);
    }

    .signed-in {
      text-align:right;
      font-size:13px;
      color:rgba(255,255,255,0.85);
    }
    .signed-in small { display:block; color:rgba(255,255,255,0.5); font-size:11px; }

    /* center container */
    .main {
      width:100%;
      max-width:920px;
      margin: 60px auto;
      padding: 28px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:36px;
    }

    .upload-card {
      width:100%;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.015));
      border-radius:18px;
      padding: 44px 36px;
      box-shadow: 0 18px 40px rgba(3,12,35,0.45);
      border: 1px solid rgba(255,255,255,0.03);
      backdrop-filter: blur(8px);
    }

    .upload-card h2{
      margin:0 0 6px 0;
      text-align:center;
      font-size:24px;
      letter-spacing:0.2px;
    }
    .upload-card p.lead{
      margin:0 0 24px 0;
      text-align:center;
      color:rgba(255,255,255,0.65);
      font-size:14px;
    }

    .dropzone {
      margin: 0 auto;
      width: 78%;
      min-height: 240px;
      border-radius:12px;
      border: 2px dashed rgba(255,255,255,0.12);
      display:flex;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      color: rgba(255,255,255,0.6);
      position:relative;
      padding:18px;
      transition: all 180ms ease;
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
    }
    .dropzone.dragover {
      border-color: rgba(124,58,237,0.9);
      box-shadow: 0 10px 30px rgba(124,58,237,0.12), 0 2px 6px rgba(0,0,0,0.35) inset;
      transform: translateY(-4px);
    }
    .dropzone .hint { font-size:15px; margin-bottom:18px; }

    .btn-choose {
      display:inline-block;
      padding:10px 18px;
      border-radius:10px;
      cursor:pointer;
      font-weight:700;
      background: linear-gradient(90deg, #4f46e5, #06b6d4);
      border: none;
      color: white;
      box-shadow: 0 8px 20px rgba(8,16,40,0.45);
    }

    .small-note { margin-top:10px; font-size:13px; color:rgba(255,255,255,0.5); }

    /* bottom info card */
    .info-card {
      width:100%;
      border-radius:14px;
      padding:28px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      box-shadow: 0 12px 30px rgba(3,12,35,0.45);
      border:1px solid rgba(255,255,255,0.03);
    }
    .info-card h3 { margin:0 0 10px 0; font-size:20px; text-align:center; }
    .info-card p { margin:0; color:rgba(255,255,255,0.75); line-height:1.6; text-align:center; max-width:820px; margin-left:auto; margin-right:auto; }

    /* progress */
    #progressBar { width:78%; margin:12px auto 0 auto; height:14px; background: rgba(255,255,255,0.06); border-radius:8px; overflow:hidden; display:none; }
    #progress { height:100%; width:0%; transition: width 0.15s linear; background: linear-gradient(90deg,#60a5fa,#7c3aed); }

    /* responsive tweaks */
    @media (max-width:840px){
      .main { margin: 28px 18px; }
      .dropzone { width:100%; min-height:200px; }
      #progressBar { width:100%; }
      header { padding:18px; }
    }
  </style>
</head>
<body>
  <div class="page-bg">
    <header>
      <div class="brand">
        <div class="logo">π</div>
        <div>
          <h1>Deepfake Detector</h1>
          <p>AI-powered tool for detecting manipulated videos.</p>
        </div>
      </div>

      <div class="signed-in">
        {% if current_user.is_authenticated %}
          Signed in as
          <small>{{ current_user.email }}</small>
          <div style="margin-top:6px;"><a href="{{ url_for('logout') }}" style="color:rgba(255,255,255,0.8);font-size:12px;">Logout</a></div>
        {% else %}
          <a href="{{ url_for('login') }}" style="color:white;margin-right:8px;">Login</a>
          <a href="{{ url_for('signup') }}" style="color:white;">Signup</a>
        {% endif %}
      </div>
    </header>

    <main class="main" role="main">
      <section class="upload-card card">
        <h2>Upload Your Video</h2>
        <p class="lead">Select or drop a video file below (.mp4, .mov, .avi, .mkv).</p>

        <div id="dropzone" class="dropzone">
          <div class="hint">Drag & drop your video here</div>
          <div>or</div>
          <button id="chooseBtn" class="btn-choose" type="button">Choose File</button>
          <div class="small-note">Recommended: short clips up to 200MB</div>
          <input id="fileInput" name="file" type="file" accept="video/*,image/*" style="display:none" />
        </div>

        <div id="progressBar">
          <div id="progress"></div>
        </div>

        <div id="status" style="text-align:center; margin-top:12px; color:rgba(255,255,255,0.85)"></div>
        <div id="result" style="text-align:center; margin-top:12px; font-weight:700;"></div>
      </section>

      <section class="info-card">
        <h3>What is a Deepfake?</h3>
        <p>Deepfakes are AI-generated videos or images that make it look like a person said or did something they never actually did. They are created using deep learning models such as GANs and can be very convincing — this tool gives a quick automated check as a first step when you suspect manipulation.</p>
      </section>
    </main>
  </div>

  <script src="{{ url_for('static', filename='upload.js') }}"></script>
</body>
</html>
